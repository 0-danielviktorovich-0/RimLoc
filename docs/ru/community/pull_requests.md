---
title: Пул‑реквесты
---

# Пул‑реквесты

Этот гайд описывает, как готовить изменения к ревью и каким должен быть хороший PR в RimLoc.

## Рабочий процесс

1) Создайте тематическую ветку от `main`.
2) Делайте небольшие, понятные коммиты (сообщения в стиле Conventional Commits).
3) Пишите тесты рядом с кодом (unit/integration).
4) Запустите локальные проверки перед пушем:

```bash
cargo build --workspace
cargo test --workspace
cargo fmt && cargo clippy --workspace --all-targets -- -D warnings
```

5) Если менялись CLI‑флаги/поведение — обновите документацию в `docs/` и help‑ключи i18n.
6) Откройте PR с шагами валидации и ключевыми выводами.

## Что указать в описании PR

- Краткое резюме изменений и мотивацию.
- Тип: fix/feat/docs/refactor/chore.
- Валидация: какие команды запускали и какой вывод (для JSON используйте `--quiet`).
- Влияние: обновлялась ли документация? затронуты ли i18n‑ключи? есть ли миграции?
- Связанные issues: `Closes #123`.

## Размер и структура

- Лучше несколько маленьких логичных коммитов, чем один огромный.
- Не делайте «проездом» глобальные рефакторинги/переформат — только по делу.
- Держите дифф сфокусированным.

## Ожидания по тестам

- Добавляйте/обновляйте тесты рядом с изменённым кодом.
- Интеграционные тесты CLI: `crates/rimloc-cli/tests/` (используйте `helpers.rs`).
- Для i18n‑ключей запустите `cargo test --package rimloc-cli -- tests_i18n`.

## Документация и i18n

- Тексты помощи локализуются через Fluent. Сначала EN, затем зеркалируйте другие локали.
- Для новых флагов обновите:
  - FTL‑ключи (EN/RU)
  - Страницы CLI (`docs/en/cli/`, `docs/ru/cli/`)
  - Разделы про тестирование, если менялись логи/флаги

## Шаблон PR

В репозитории есть `.github/PULL_REQUEST_TEMPLATE.md` с чек‑листом — используйте его, чтобы ускорять ревью.

