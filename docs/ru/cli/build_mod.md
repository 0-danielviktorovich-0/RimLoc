---
title: Команда Build Mod
---

# Команда Build Mod

`build-mod` превращает переведённый `.po` файл в самостоятельный мод-перевод для RimWorld. Это удобно, если вы хотите распространять только локализацию без исходных XML.

## Использование

```bash
rimloc-cli build-mod --po <FILE> --out-mod <DIR> --lang <CODE> [опции]
```

## Опции

| Опция | Описание | Обязательно |
|-------|----------|-------------|
| `--po <FILE>` | Исходный PO-файл для упаковки. | Да |
| `--out-mod <DIR>` | Каталог, куда будет собран мод (создаётся при необходимости). | Да |
| `--lang <CODE>` | Код целевого языка (например, `ru`, `ja`). Определяет папку `Languages/<lang_dir>`. | Да |
| `--name <NAME>` | Отображаемое имя мода (по умолчанию `RimLoc Translation`). | Нет |
| `--package-id <ID>` | RimWorld `PackageId` для готового мода (по умолчанию `yourname.rimloc.translation`). | Нет |
| `--rw-version <VERSION>` | Целевая версия RimWorld в `About.xml` (по умолчанию `1.5`). | Нет |
| `--lang-dir <DIR>` | Явное имя папки языка внутри мода (перекрывает значение, вычисленное по коду). | Нет |
| `--dry-run` | Показать план сборки и не создавать файлы. | Нет |
| `--dedupe` | Удалять дублирующиеся ключи в одном XML (последний имеет приоритет). | Нет |

## Примеры

Предварительный просмотр без записи на диск:

```bash
rimloc-cli build-mod \
  --po ./logs/TestMod.po \
  --out-mod ./dist/TestMod-ru \
  --lang ru \
  --dry-run
```

Сборка готового русского перевода с кастомными метаданными (и удалением дубликатов):

```bash
rimloc-cli build-mod \
  --po ./logs/TestMod.po \
  --out-mod ./dist/TestMod-ru \
  --lang ru \
  --name "TestMod — Русский" \
  --package-id author.testmod.ru \
  --rw-version 1.5 \
  --dedupe
```

## Результат

- Создаётся (или обновляется) `About/About.xml` с переданными именем, `PackageId` и версией RimWorld.
- В `Languages/<lang_dir>/Keyed/_Imported.xml` попадают строки из PO.
- Параметр `--lang-dir` позволяет явно задать папку языка; без него RimLoc преобразует ISO-код (`ru` → `Russian`).

## Советы

- Используйте `--dry-run` в CI, чтобы посмотреть план сборки до коммита.
- После создания мода можно прогнать `rimloc-cli validate --root <out-mod>`, если планируете редактировать XML вручную.
- Свяжите команду с `rimloc-cli export-po`, чтобы автоматизировать цепочку «экспорт → упаковка → публикация».
