---
title: Экспорт и импорт
---

# Экспорт и импорт

## Export-po

Экспортируйте извлечённые строки в единый файл `.po` или в отдельные файлы `.po` согласно структуре мода. Используйте `--help` для просмотра всех доступных опций.

**Использование:**

```bash
rimloc-cli export-po [options]
```

**Опции:**

| Опция          | Описание                                           | Обязательно |
|----------------|----------------------------------------------------|-------------|
| `--out`        | Файл или каталог для сохранения экспортированных файлов `.po` | Нет         |
| `--single-po`  | Экспортировать все строки в один файл `.po`       | Нет         |
| `--help`       | Показать справочную информацию                      | Нет         |

**Примеры:**

Пробный запуск экспорта:

```bash
rimloc-cli export-po
```
*Выполнить пробный запуск без записи файлов.*

Экспорт в один PO-файл:

```bash
rimloc-cli export-po --out mymod.po --single-po
```
*Экспортировать все извлечённые строки в один файл `.po` с именем `mymod.po`.*

Экспорт в несколько PO-файлов согласно структуре мода:

```bash
rimloc-cli export-po --out ./out
```
*Экспортировать строки в несколько файлов `.po`, организованных по структуре мода, сохранённых в каталоге `./out/`.*

**Советы:**

- Без `--out` команда печатает содержимое PO в stdout — перенаправьте вывод, чтобы сохранить файл.
- Указывайте `--root`, если запускаете экспорт вне каталога мода и хотите задать путь явно.
- Флаг `--dry-run` покажет, какие файлы будут созданы, но ничего не запишет.

---

## Import-po

Импортируйте переводы из файла `.po` обратно в XML-файлы. Эта команда поддерживает режим пробного запуска и может перезаписывать существующие XML-файлы или создавать новые на основе импортированных переводов.

**Использование:**

```bash
rimloc-cli import-po [options]
```

**Опции:**

| Опция       | Описание                                     | Обязательно |
|-------------|----------------------------------------------|-------------|
| `--dry-run` | Выполнить пробный запуск без изменения файлов | Нет         |
| `--po`      | Путь к файлу `.po` для импорта               | Нет         |
| `--out`     | Каталог для сохранения сгенерированных XML-файлов | Нет         |
| `--help`    | Показать справочную информацию                 | Нет         |

**Примеры:**

Пробный запуск импорта:

```bash
rimloc-cli import-po --dry-run
```
*Смоделировать процесс импорта без изменения файлов.*

Импорт из PO-файла с выводом в каталог:

```bash
rimloc-cli import-po --po mymod.po --out ./out
```
*Импортировать переводы из `mymod.po` и записать полученные XML-файлы в каталог `./out`.*

**Советы:**

- `--dry-run` — безопасный способ увидеть изменения перед перезаписью XML.
- Используйте `--mod-root`, чтобы указать исходный мод для поиска ключей.
- При импорте языка, отличного от имени файла, задайте `--lang`.

---

## См. также

- **[Scan XML](scan.md)** — Извлечение Keyed-записей для работы с ними.
- **[Validate](validate.md)** — Проверка дубликатов, пустых значений и плейсхолдеров в XML-файлах модов RimWorld.
- **[Validate PO](validate_po.md)** — Проверка файлов `.po` на несоответствия плейсхолдеров и проблемы в строгом режиме.

## Решение проблем

- **При импорте отсутствуют ключи** — сначала выполните `scan` и убедитесь, что PO сгенерирован из той же структуры мода.
- **Каталог назначения пуст** — флаг `--out` задаёт директорию для новых XML; уберите его, чтобы изменить файлы на месте.
- **Проблемы с кодировкой PO** — файлы должны быть в UTF-8; при необходимости прогоните `msgconv --output=utf-8`.
