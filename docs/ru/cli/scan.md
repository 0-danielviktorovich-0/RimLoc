---
title: Команда Scan
---

# Команда Scan

## Описание

Сканирует директорию мода RimWorld для извлечения единиц перевода из XML-файлов `Languages/*/{Keyed,DefInjected}`. Эта команда помогает собрать все локализованные строки для дальнейшей обработки или перевода.

## Синопсис

```bash
rimloc-cli scan --root <PATH> [--out-csv <FILE>] [--lang <CODE>] \
                 [--source-lang <CODE>] [--source-lang-dir <DIR>] \
                 [--format <csv|json>]
```

## Опции

| Опция                   | Описание                                                                   | Обязательно |
|-------------------------|-----------------------------------------------------------------------------|-------------|
| `-r, --root <PATH>`      | Путь к корневой директории мода RimWorld для сканирования.                  | Да          |
| `--out-csv <FILE>`       | Сохранить извлечённые записи в CSV-файл (включая заголовок).                | Нет         |
| `--lang <CODE>`          | Код языка для сканирования (например, `en`, `ru`). Если не указан, сканируются все языки. | Нет         |
| `--source-lang <CODE>`   | Код исходного языка для дополнительных проверок (опционально).             | Нет         |
| `--source-lang-dir <DIR>`| Явный путь к директории исходного языка (опционально).                      | Нет         |
| `--format <csv|json>`    | Формат вывода в stdout. По умолчанию — `csv`.                              | Нет         |

### `-r, --root <PATH>`
Путь к корневой директории мода RimWorld для сканирования. **Обязательно**.

### `--out-csv <FILE>`
Сохранить извлечённые записи в CSV-файл (включая заголовок).

### `--lang <CODE>`
Код языка для сканирования (например, `en`, `ru`). Если не указан, сканируются все языки.

### `--source-lang <CODE>`
Код исходного языка для дополнительных проверок (опционально).

### `--source-lang-dir <DIR>`
Явный путь к директории исходного языка (опционально).

### `--format <csv|json>`
Формат вывода в stdout. По умолчанию — `csv`.

Форматы вывода:

- `csv` — выводит CSV в stdout (используйте `--out-csv` для сохранения в файл).  
- `json` — выводит JSON-массив единиц перевода в stdout.

Каждая единица перевода имеет следующую структуру:
```json
{
  "path": "<путь к файлу>",
  "line": <номер строки>,
  "key": "<ключ Keyed>",
  "value": "<строковое значение>"
}
```

## Примеры

Извлечь все языки и вывести JSON:
```bash
rimloc-cli scan --root ./test/TestMod --format json | jq .
```
*Сканирует все языки и выводит единицы перевода в формате JSON.*

Сканировать только английский и сохранить результаты в CSV-файл:
```bash
rimloc-cli scan --root ./test/TestMod --lang en --out-csv out.csv
```
*Извлекает английские записи и записывает их в `out.csv`.*

Вывести CSV напрямую в stdout:
```bash
rimloc-cli scan --root ./test/TestMod
```
*Сканирует все языки и выводит CSV-данные в консоль.*

## См. также

- [Validate](validate.md)
- [Validate PO](validate_po.md)
- [Export / Import](export_import.md)

!!! note
    Весь пользовательский вывод CLI (справка, сообщения) локализован с помощью **Fluent**.